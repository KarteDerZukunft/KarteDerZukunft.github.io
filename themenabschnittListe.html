<!DOCTYPE html>
<html lang="de">
  <head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Mobile Metas -->
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <!-- Site Metas -->
    <title>Themenabschnitt Liste</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="AbuRadi" />

    <!-- Site Icons -->
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />

    <!-- OpenLayers CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.5.0/css/ol.css"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.5.0/build/ol.js"></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/Clamp.js/0.5.1/clamp.min.js"
    ></script>

    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    /> -->

    <!-- Site CSS -->
    <link rel="stylesheet" href="style.css" />
    <!-- Colors CSS -->

    <!-- ALL VERSION CSS -->
    <link rel="stylesheet" href="css/versions.css" />
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="css/responsive.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css" />

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- LOADER -->
    <div id="preloader">
      <div id="main-ld">
        <div id="loader"></div>
      </div>
    </div>
    <!-- END LOADER -->

    <!-- <div class="topbar text-center hidden-xs">
      <p>
        This site uses cookies. By continuing to browse "Ganz Sicher Berlin",
        you are agreeing to use our site cookies.
        <a href="#">Find out more here</a>
      </p>
    </div> -->

    <header class="header header_style_01">
      <nav class="megamenu navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button
              type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              data-target="#navbar"
              aria-expanded="false"
              aria-controls="navbar"
            >
              <span class="sr-only">Toggle Navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"
              ><img src="images/logos/logo.png" alt="image"
            /></a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li>
                <a data-scroll-nav="1" href="index.html">Unser Wahlprogramm</a>
              </li>
              <li>
                <a data-scroll-nav="1" href="karte.html">Karte der Zukunft</a>
              </li>
              <li>
                <a data-scroll-nav="2" href="#candidates"
                  >Unsere Kandidierenden</a
                >
              </li>
              <li><a data-scroll-nav="3" href="#themes">Unsere Themen</a></li>
              <li>
                <a data-scroll-nav="4" href="#projekts">Unsere Projekte</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <br />

    <div id="textDetailsContainer">
      <h2 id="topicSectionTitle"></h2>

      <div id="topicSectionList"></div>

      <script src="Data/kdz.js"></script>
      <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);

        if (urlParams.has("tid")) {
          tid = urlParams.get("tid");

          for (let i = 0; i < kdzObj.topics.length; i++) {
            if (kdzObj.topics[i].id == tid) {
              document
                .querySelector("#topicSectionTitle")
                .insertAdjacentHTML("beforeend", `${kdzObj.topics[i].title}`);
            }
          }

          let c = 0;
          let htmlToInsert = "";
          let img = "uploads/fallBack.jpg";

          let sections = [];

          for (let j = 0; j < kdzObj.sections.length; j++) {
            if (kdzObj.sections[j].belongs_to_topic == tid) {
              if (kdzObj.sections[j].image !== "") {
                img = `style=\"background-image: url(\'${kdzObj.sections[j].image.url}\');\"`;
              }

              let tagString = "";

              if (kdzObj.sections[j].tags !== "") {
                for (
                  let k = 0;
                  k < 5 && k < kdzObj.sections[j].tags.length;
                  k++
                ) {
                  tagString += ` <a href="tagsListe.html?tag=${kdzObj.sections[j].tags[k].slug}">#${kdzObj.sections[j].tags[k].slug}</a>`;
                }
              }

              htmlToInsert += `
                <a href="abschnittsSeite.html?sid=${kdzObj.sections[j].id}">
                  <div link class="sectionListElement">
                    <div class="topicSection">
                    </div>
                    <div class="lowerLip">
                      <h4 id="sectionNo_${kdzObj.sections[j].id}">${kdzObj.sections[j].description}</h4>
                      <h2 class="tagString">
                        <span class="tagStringBase">${tagString}</span>
                      </h2>
                      <br />
                      <div style="width: 100%">
                        <a class="moreInfo" href="abschnittsSeite.html?sid=${kdzObj.sections[j].id}">Mehr erfahren</a>
                      </div>
                    </div>
                  </div>
                </a>`.replace("link", img);

              c++;

              sections.push(`sectionNo_${kdzObj.sections[j].id}`);
            }
          }

          if (c < 1) {
            window.location.replace("./404.html");
          }

          const selectedHTML = document.querySelector("#topicSectionList");

          selectedHTML.insertAdjacentHTML("beforeend", htmlToInsert);
        } else {
          window.location.replace("./404.html");
        }
      </script>

      <h5 id="quickLinks">
        <a id="TsCs" href="TsCs.html?Impressum">Impressum</a> |
        <a id="TsCs" href="TsCs.html?Datenschutzerklärung"
          >Datenschutzerklärung</a
        >
      </h5>
    </div>

    <br />

    <div class="disclaimer" id="disclaimer">
      <a id="cancelBtn" onclick="return hideForm()"> &#x2715; </a>

      <h2>Wir würden gerne Ihre Vorschläge lesen</h2>
      <form
        name="quoteFrom"
        action=""
        method="POST"
        class="quoteFromInput"
        onsubmit="return quateForm()"
      >
        <div class="container">
          <div class="row row-cols-md-1 row-cols-lg-2">
            <div class="col">
              <label for="nameInput" class="form-label">Dein Name</label>
              <input type="text" class="form-control" name="nameInput" />
            </div>
            <div class="col">
              <label for="phoneInput" class="form-label"
                >Deine Telefonnummer</label
              >
              <input
                type="text"
                class="form-control"
                name="phoneInput"
                placeholder="Optional"
              />
            </div>
            <div class="col">
              <label for="emailInput" class="form-label">Deine E-Mail</label>
              <input type="email" class="form-control" name="emailInput" />
            </div>
          </div>
        </div>

        <div class="container">
          <div class="row">
            <div class="col">
              <label for="description" class="form-label"
                >Erzählen Sie uns mehr</label
              >
              <textarea
                name="description"
                rows="1"
                cols="50"
                wrap="physical"
                class="form-control"
                id="description"
              ></textarea>
            </div>
          </div>
        </div>

        <div class="container">
          <div class="row row-cols-md-1 row-cols-lg-2">
            <div class="col" style="margin-left: 5px">
              <button class="btn btn-primary" type="submit">Senden</button>
            </div>
            <div class="col" id="ErrMsg"></div>
          </div>
        </div>
      </form>

      <script src="https://smtpjs.com/v3/smtp.js"></script>
      <script>
        function quateForm() {
          var name = document.forms["quoteFrom"]["nameInput"].value;
          var email = document.forms["quoteFrom"]["emailInput"].value;
          var phone = document.forms["quoteFrom"]["phoneInput"].value;

          var more = document.forms["quoteFrom"]["description"].value;

          if (name == "" || email == "" || more == "") {
            if (name == "") {
              document.forms["quoteFrom"]["nameInput"].placeholder =
                "Bitte geben Sie einen Namen ein";
              document.forms["quoteFrom"]["nameInput"].classList.add(
                "formIncompleteError"
              );
            }

            if (email == "") {
              document.forms["quoteFrom"]["emailInput"].placeholder =
                "Bitte geben Sie eine Email ein";
              document.forms["quoteFrom"]["emailInput"].classList.add(
                "formIncompleteError"
              );
            }

            if (more == "") {
              document.forms["quoteFrom"]["description"].placeholder =
                "Bitte hinterlassen Sie eine Nachricht zu Senden";
              document.forms["quoteFrom"]["description"].classList.add(
                "formIncompleteError"
              );
            }

            return false;
          } else {
            if (email == "") {
              email = "N/A";
            }
            document.getElementById("ErrMsg").innerHTML = ``;

            // console.log(`name: ${name}`);
            // console.log(`email: ${email}`);
            // console.log(`phone: ${phone}`);
            // console.log(`more: ${more}`);

            Email.send({
              SecureToken: "9c4890cd-67c0-4189-be99-6dbc311dfd08",
              To: "zukunftmitte@spd-rosenthaler-vorstadt.de",
              From: "site@theFOUR.co.za",
              Subject: "Feedback",
              Body: `
                <h4>Name: ${name},</h4>
                <h4>Email: ${email},</h4>
                <h4>Telefonnummer: ${phone},</h4>
                <h4>Botschaft: ${more}.</h4>
                <br />
                <h4>URL: ${window.location.href}</h4>
              `,
            }).then((message) => {
              console.log(message);

              alert("Vielen Dank für Ihre Kontaktaufnahme.");
            });

            document.forms["quoteFrom"]["nameInput"].value = ``;
            document.forms["quoteFrom"]["emailInput"].value = ``;
            document.forms["quoteFrom"]["phoneInput"].value = ``;
            document.forms["quoteFrom"]["description"].value = ``;

            document.forms["quoteFrom"]["nameInput"].placeholder = ``;
            document.forms["quoteFrom"]["emailInput"].placeholder = ``;
            document.forms["quoteFrom"]["description"].placeholder = ``;

            document.forms["quoteFrom"]["nameInput"].classList.remove(
              "formIncompleteError"
            );
            document.forms["quoteFrom"]["emailInput"].classList.remove(
              "formIncompleteError"
            );
            document.forms["quoteFrom"]["description"].classList.remove(
              "formIncompleteError"
            );

            return false;
          }
        }
      </script>
    </div>

    <script>
      acknowledged = 1;

      if (acknowledged == 1) {
        var disclaimer = document.getElementById("disclaimer");

        disclaimer.style.display = "none";
      }

      function hideForm() {
        var disclaimer = document.getElementById("disclaimer");

        disclaimer.style.display = "none";

        acknowledged = 1;

        localStorage.setItem("acknowledged", acknowledged);
      }

      function showForm() {
        var disclaimer = document.getElementById("disclaimer");

        disclaimer.style.display = "block";

        acknowledged = 0;

        localStorage.setItem("acknowledged", acknowledged);
      }
    </script>

    <a
      href="#"
      id="kommentieren"
      onclick="return showForm()"
      class="kommentieren global-radius"
      >Kommentieren</a
    >

    <a href="#" id="scroll-to-top" class="dmtop global-radius"
      ><i class="fa fa-angle-up"></i
    ></a>

    <!-- ALL JS FILES -->
    <script src="js/all.js"></script>
    <!-- Camera Slider -->
    <script src="js/jquery.mobile.customized.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/scrollIt.min.js"></script>
    <!-- ALL PLUGINS -->
    <script src="js/custom.js"></script>
  </body>
</html>
